# Simple Bash Utils

## Обзор проекта
Данный проект представляет собой реализацию двух классических утилит Unix для обработки текста: `cat` и `grep`. Утилиты разработаны на языке C (стандарт C11) в рамках учебной программы Школы 21. Проект направлен на понимание фундаментальных принципов работы инструментов обработки текста в Unix и развитие навыков структурного программирования.

## Структура проекта
```
src/
├── cat/
│   ├── s21_cat.c
│   ├── s21_cat.h
│   └── Makefile
└── grep/
    ├── s21_grep.c
    ├── s21_grep.h
    └── Makefile
```

## Реализованный функционал

### Утилита s21_cat
Реализация утилиты `cat` с поддержкой следующих флагов:
- `-b` (GNU: `--number-nonblank`) - нумерация только непустых строк
- `-e` (подразумевает и `-v`) (GNU: `-E` то же самое, но без `-v`) - отображение символов конца строки как `$`
- `-n` (GNU: `--number`) - нумерация всех строк
- `-s` (GNU: `--squeeze-blank`) - сжатие нескольких смежных пустых строк
- `-t` (подразумевает и `-v`) (GNU: `-T` то же самое, но без `-v`) - отображение табуляции как `^I`

### Утилита s21_grep
Реализация утилиты `grep` с поддержкой следующих флагов:
- `-e` - шаблон
- `-i` - игнорирование регистра
- `-v` - инвертированный поиск
- `-c` - вывод только количества совпадающих строк
- `-l` - вывод только совпадающих файлов
- `-n` - вывод номера строки перед каждой совпадающей строкой
- `-h` - вывод совпадающих строк без указания имени файла
- `-s` - подавление сообщений об ошибках
- `-f` - получение шаблонов из файла
- `-o` - вывод только совпадающих частей строки

## Подробные примеры использования

### s21_cat

#### Базовое использование
```bash
# Простой вывод содержимого файла
./s21_cat file.txt

# Вывод содержимого нескольких файлов
./s21_cat file1.txt file2.txt file3.txt
```

#### Нумерация строк
```bash
# Нумерация всех строк
./s21_cat -n text.txt
1 Первая строка
2
3 Третья строка

# Нумерация только непустых строк
./s21_cat -b text.txt
1 Первая строка

2 Третья строка
```

#### Работа с пустыми строками и специальными символами
```bash
# Сжатие пустых строк и отображение символов конца строки
./s21_cat -s -e text.txt
Первая строка$
$
Третья строка$

# Отображение табуляций и нумерация строк
./s21_cat -t -n text.txt
1    Строка^Iс^Iтабуляцией
2    Вторая^Iстрока
```

### s21_grep

#### Базовый поиск
```bash
# Поиск строки в файле
./s21_grep "поиск" file.txt

# Поиск с игнорированием регистра
./s21_grep -i "СЛОВО" file.txt

# Инвертированный поиск
./s21_grep -v "исключить" file.txt
```

#### Работа с несколькими шаблонами
```bash
# Поиск нескольких шаблонов
./s21_grep -e "шаблон1" -e "шаблон2" file.txt

# Использование файла с шаблонами
./s21_grep -f patterns.txt file.txt
```

#### Дополнительные опции вывода
```bash
# Вывод только количества совпадений
./s21_grep -c "слово" file.txt

# Вывод номеров строк с совпадениями
./s21_grep -n "слово" file.txt

# Вывод только совпадающих частей
./s21_grep -o "слово" file.txt
```

## Особенности реализации

### Общие особенности
- Реализована эффективная обработка памяти с проверкой на утечки
- Обработка ошибок с информативными сообщениями
- Модульная архитектура для простоты поддержки и расширения
- Оптимизированное чтение файлов с использованием буферизации

### Особенности s21_cat
- Реализован эффективный алгоритм сжатия пустых строк для флага `-s`
- Оптимизированная обработка больших файлов через построчное чтение
- Корректная обработка бинарных файлов
- Поддержка различных кодировок текста

### Особенности s21_grep
- Использование оптимизированных регулярных выражений через библиотеку pcre
- Эффективный алгоритм поиска для множественных шаблонов
- Корректная обработка UTF-8 строк
- Оптимизированная работа с большими файлами через построчную обработку

## Технические особенности
- Написано на языке C (стандарт C11)
- Компиляция с помощью gcc
- Соответствие стандарту POSIX.1-2017
- Следование рекомендациям Google Style Guide
- Использование регулярных выражений (библиотека pcre/regex)
- Наличие интеграционных тестов

## Сборка проекта

### Сборка s21_cat
```bash
cd src/cat
make s21_cat
```

### Сборка s21_grep
```bash
cd src/grep
make s21_grep
```

## Тестирование
Проект включает интеграционные тесты, которые сравнивают поведение реализованных утилит с оригинальными утилитами Unix. Тесты охватывают различные комбинации флагов и сценарии использования.

## Процесс разработки
Разработка следовала следующим ключевым принципам:
1. Модульный дизайн
2. Комплексная обработка ошибок
3. Эффективное управление памятью
4. Единый стиль кодирования
5. Тщательное тестирование

## Лицензия
Данный проект является частью учебной программы Школы 21 и предоставляется в образовательных целях.
